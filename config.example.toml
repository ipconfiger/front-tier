[proxy]
listen_addr = "0.0.0.0:443"
listen_addr_http = "0.0.0.0:80"
management_api_addr = "127.0.0.1:8080"

[lets_encrypt]
email = "admin@example.com"
staging = true
cache_dir = "/etc/pingora-ssl/certs"

[logging]
level = "info"
format = "text"
output = "console"
file_path = "/var/log/pingora-proxy/proxy.log"

[metrics]
enabled = true
listen_addr = "0.0.0.0:9090"

[health_check]
interval_secs = 10
timeout_secs = 5
unhealthy_threshold = 3
healthy_threshold = 2

[[virtual_hosts]]
domain = "example.com"
enabled_backends_tag = "a"
http_to_https = true

[[backends]]
id = "web-v1"
address = "localhost:3001"
tags = ["a"]
